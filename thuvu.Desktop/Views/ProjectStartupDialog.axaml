<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:views="using:thuvu.Desktop.Views"
        x:Class="thuvu.Desktop.Views.ProjectStartupDialog"
        x:DataType="views:ProjectStartupDialog"
        Title="T.H.U.V.U. â€” Select Project"
        Width="500" Height="340"
        WindowStartupLocation="CenterScreen"
        CanResize="False"
        ExtendClientAreaToDecorationsHint="False">

    <Border Padding="24">
        <StackPanel Spacing="16">
            <TextBlock Text="T.H.U.V.U." FontSize="28" FontWeight="Bold"
                       HorizontalAlignment="Center" />
            <TextBlock Text="Tool for Heuristic Universal Versatile Usage"
                       FontSize="12" Foreground="Gray" HorizontalAlignment="Center" />

            <Separator Margin="0,8" />

            <!-- Recent projects -->
            <TextBlock Text="Recent Projects" FontWeight="SemiBold" FontSize="13" 
                       IsVisible="{ReflectionBinding HasRecent}" />
            <ListBox Name="RecentList" MaxHeight="100"
                     IsVisible="{ReflectionBinding HasRecent}"
                     ItemsSource="{ReflectionBinding RecentProjects}"
                     SelectionChanged="RecentList_SelectionChanged">
                <ListBox.ItemTemplate>
                    <DataTemplate x:DataType="views:RecentProjectEntry">
                        <StackPanel Spacing="1" Margin="2">
                            <TextBlock Text="{Binding Name}" FontWeight="SemiBold" FontSize="12" />
                            <TextBlock Text="{Binding Path}" FontSize="10" Foreground="Gray" />
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>

            <Separator Margin="0,4" />

            <!-- New project name input -->
            <StackPanel Name="NewProjectPanel" Spacing="6" IsVisible="False">
                <TextBlock Text="Project Name" FontWeight="SemiBold" FontSize="13" />
                <TextBox Name="ProjectNameBox" Watermark="Enter project name..."
                         FontSize="14" />
                <StackPanel Orientation="Horizontal" Spacing="8" HorizontalAlignment="Right">
                    <Button Content="Create" Click="CreateProject_Click"
                            Padding="16,8" FontSize="13" />
                    <Button Content="Cancel" Click="CancelCreate_Click"
                            Padding="16,8" FontSize="13" />
                </StackPanel>
            </StackPanel>

            <!-- Action buttons -->
            <StackPanel Name="ActionButtons" Orientation="Horizontal" Spacing="12" HorizontalAlignment="Center">
                <Button Content="ðŸ“ New Project..." Click="NewProject_Click"
                        Padding="20,10" FontSize="14" />
                <Button Content="ðŸ“‚ Open Project..." Click="OpenProject_Click"
                        Padding="20,10" FontSize="14" />
            </StackPanel>
        </StackPanel>
    </Border>
</Window>
